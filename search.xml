<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>一、数据库简介</title>
    <url>/2020/07/29/%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h3 id="一、数据库简介"><a href="#一、数据库简介" class="headerlink" title="一、数据库简介"></a>一、数据库简介</h3><h4 id="1-数据库系统"><a href="#1-数据库系统" class="headerlink" title="1.数据库系统"></a>1.数据库系统</h4><h5 id="1-1数据库"><a href="#1-1数据库" class="headerlink" title="1.1数据库"></a>1.1数据库</h5><blockquote>
<p>DataBase【DB】，指的是长期保存到计算机上的数据，按照一定顺序组织，可以被各种用户或者应用共享的数据集合 </p>
<p>【用于存储数据的地方，可以视为存储数据的容器】</p>
</blockquote>
<h5 id="1-2数据库管理系统"><a href="#1-2数据库管理系统" class="headerlink" title="1.2数据库管理系统"></a>1.2数据库管理系统</h5><blockquote>
<p>DataBase Management System【DBMS】,能够管理和操作数据库的大型的软件 </p>
<p>数据库是CS模式:Client/Server </p>
<p>用于建立、使用和维护数据库，对数据库进行统一的管理和控制，为了保证数据库的安全性和完整性，用户可以通过数据库管理系统访问数据库中的数据</p>
</blockquote>
<h5 id="1-3数据库的应用"><a href="#1-3数据库的应用" class="headerlink" title="1.3数据库的应用"></a>1.3数据库的应用</h5><blockquote>
<p>涉及到大量的数据需要长期存储，就可以使用数据库  </p>
<p>使用：增删改查的操作  </p>
<p>持久化： 数据持久化, 一般存在硬盘， MySQL</p>
<p>缓存： 临时存储， 一般可以存在内存,  Redis</p>
</blockquote>
<h4 id="2-常见数据库管理系统"><a href="#2-常见数据库管理系统" class="headerlink" title="2.常见数据库管理系统"></a>2.常见数据库管理系统</h4><blockquote>
<p>1&gt;Oracle（甲骨文）: 目前比较成功的关系型数据库管理系统，运行稳定，功能齐全，性能超群，技术领先，主要应用在大型的企业数据库领域（银行、金融机构、医院、电信等行业）, 收费.</p>
<p>2&gt;DB2:  IBM（国际商业机器公司）的产品，伸缩性比较强</p>
<p>3&gt;SQL Server:  Microsoft的产品，软件界面友好，易学易用，在操作性和交互性方面独树一帜</p>
<p>4&gt;MySQL: 免费的数据库系统，被广泛引用于中小型应用系统，体积小，速度快，总体拥有成本低，开放源代码，2008年被SUN收购，2009年SUN被Oracle收购  </p>
</blockquote>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>MySQL,Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>二、数据库的安装与链接</title>
    <url>/2020/07/29/%E4%BA%8C%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%93%BE%E6%8E%A5/</url>
    <content><![CDATA[<h3 id="二-数据库的安装和链接"><a href="#二-数据库的安装和链接" class="headerlink" title="二.数据库的安装和链接"></a>二.数据库的安装和链接</h3><h4 id="1-安装-MySQL"><a href="#1-安装-MySQL" class="headerlink" title="1.安装 MySQL"></a>1.安装 MySQL</h4><blockquote>
<p>1.验证是否安装MySQL</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># mysql</span></span><br><span class="line">-bash: mysql: 未找到命令  </span><br></pre></td></tr></table></figure>

<p>返回以上信息表示没有安装</p>
<ol start="2">
<li>安装 MySQL</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">安装 wget 软件</span><br><span class="line">[root@shark ~]<span class="comment"># yum install wget</span></span><br><span class="line"></span><br><span class="line">下载仓库文件</span><br><span class="line">[root@shark ~]<span class="comment"># wget https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span></span><br><span class="line"></span><br><span class="line">安装仓库文件</span><br><span class="line">[root@shark ~]<span class="comment"># yum localinstall mysql80-community-release-el7-1.noarch.rpm</span></span><br><span class="line"></span><br><span class="line">安装 YUM 管理工具包，此包提供了 yum-config-manager 命令工具</span><br><span class="line">[root@shark ~]<span class="comment"># yum install yum-utils</span></span><br><span class="line"></span><br><span class="line">禁用 <span class="number">8.0</span> 仓库</span><br><span class="line">[root@shark ~]<span class="comment"># yum-config-manager --enable mysql57-community</span></span><br><span class="line"></span><br><span class="line">启用 <span class="number">5.7</span> 仓库</span><br><span class="line">[root@shark ~]<span class="comment"># yum-config-manager --enable mysql57-community</span></span><br><span class="line"></span><br><span class="line">安装 MySQL</span><br><span class="line">[root@shark ~]<span class="comment"># yum install -y  mysql-community-server</span></span><br></pre></td></tr></table></figure>

</blockquote>
<h4 id="2-启动和停止mysql服务"><a href="#2-启动和停止mysql服务" class="headerlink" title="2.启动和停止mysql服务"></a>2.启动和停止mysql服务</h4><p>Linux系统：</p>
<p>启动</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># systemctl start mysqld</span></span><br></pre></td></tr></table></figure>



<p>查看状态</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># systemctl status mysqld</span></span><br><span class="line">● mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since 五 2020-07-17 09:48:29 CST; 5s ago        <span class="comment"># 这里表示启动状态</span></span><br><span class="line">     Docs: man:mysqld(8)</span><br><span class="line">           http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">  Process: 7475 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid <span class="variable">$MYSQLD_OPTS</span> (code=exited, status=0/SUCCESS)</span><br><span class="line">  Process: 7421 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 7480 (mysqld)</span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           └─7480 /usr/sbin/mysqld --daemonize --pid-file=/var/run/m...</span><br><span class="line"></span><br><span class="line">7月 17 09:48:23 shark systemd[1]: Starting MySQL Server...</span><br><span class="line">7月 17 09:48:29 shark systemd[1]: Started MySQL Server.</span><br></pre></td></tr></table></figure>



<p>设置开机自动启动此服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># systemctl enable mysqld</span></span><br></pre></td></tr></table></figure>



<p>查看监听端口，默认 3306</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># ss -ntal</span></span><br><span class="line">State       Recv-Q Send-Q Local Address:Port               Peer Address:Port</span><br><span class="line">LISTEN      0      128     *:6379                *:*</span><br><span class="line">LISTEN      0      128     *:80                  *:*</span><br><span class="line">LISTEN      0      128     *:22                  *:*</span><br><span class="line">LISTEN      0      10     127.0.0.1:25                  *:*</span><br><span class="line">LISTEN      0      80     :::3306               :::*</span><br><span class="line">[root@shark ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<p>windows系统：</p>
<blockquote>
<p>windows 开启mysql: net start mysql57 </p>
<p>windows 关闭mysql: net stop mysql57 </p>
</blockquote>
<h4 id="3-链接到-MySQL-Server"><a href="#3-链接到-MySQL-Server" class="headerlink" title="3 链接到 MySQL Server"></a>3 链接到 MySQL Server</h4><p>找到管理员账号的初始密码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># grep password /var/log/mysqld.log</span></span><br><span class="line">2020-07-17T01:48:26.341669Z 1 [Note] A temporary password is generated <span class="keyword">for</span> root@localhost: YrgT95odi:vJ</span><br><span class="line">[root@shark ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>使用客户端程序 mysql 链接到 MySQL Server</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># mysql -uroot -p'YrgT95odi:vJ'</span></span><br><span class="line">mysql: [Warning] Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 2</span><br><span class="line">Server version: 5.7.31</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>



<p>修改初始密码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt;alter user   root@localhost   identified  by  &#39;QFedu123!&#39;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>默认情况下 MySQL 服务器的密码策略比较严格：</p>
<p>最少 8 位字符</p>
<p>必须同时包含大小写字母、数字和特殊符号</p>
<p>查看目前都有哪些数据库</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>



<p>退出数据库交互程序</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@shark ~]#</span><br></pre></td></tr></table></figure>



<h4 id="4-假设忘记密码"><a href="#4-假设忘记密码" class="headerlink" title="4 假设忘记密码"></a>4 假设忘记密码</h4><p>首先停止 mysql 服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># systemctl stop mysqld</span></span><br></pre></td></tr></table></figure>



<p>接下来修改配置文件，以便跳过密码（此操作尽量在本地服务器上操作，以保证数据的安全）</p>
<p>在 /etc/my.cnf 配置文件中的 <code>[mysqld]</code> 的下面添加如下配置项</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">skip-grant-tables&#x3D;1</span><br></pre></td></tr></table></figure>



<p>接着启动服务器</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@shark ~]<span class="comment"># systemctl start mysqld</span></span><br><span class="line">[root@shark ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<p>密码登录 MySQL Server</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># mysql</span></span><br></pre></td></tr></table></figure>



<p>在 MySQL 交互程序中修改密码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; update mysql.user set authentication_string&#x3D;PASSWORD(&#39;123&#39;) where user&#x3D;&#39;root&#39; and host&#x3D;&#39;localhost&#39;;</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 1</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>



<p>再次修改配置文件，把免密登录的配置删除</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">skip-grant-tables=1  <span class="comment"># 删除此行，并保存退出</span></span><br></pre></td></tr></table></figure>



<p>最后重启服务器，并使用新的密码链接测试</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@shark ~]<span class="comment"># mysql -uroot -p123</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>数据库</category>
      </categories>
  </entry>
</search>
